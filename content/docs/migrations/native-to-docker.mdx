---
title: Native to Docker Migration
description: Guide for migrating from native Pterodactyl installation to Pyrodactyl with Docker
---

## Migrating from Pterodactyl (Native â†’ Docker)

### Prerequisites

- Linux system with root access
- [Docker Engine](https://docs.docker.com/engine/install/) and [Docker Compose](https://docs.docker.com/compose/install/) installed
- Docker experience and basic system administration skills
- Enable Docker auto-start on boot

<Callout type="warn">
   Do not use Snap-based Docker installations!
</Callout>

### Migration

1. Create a new directory for your Pyrodactyl installation. This will be the root directory for your Docker containers and configuration files.

   ```bash
   mkdir pyrodactyl && cd pyrodactyl
   ```

2. Download and configure the docker-compose.yml [template](https://raw.githubusercontent.com/pyrohost/pyrodactyl/main/docker-compose.example.yml).
   - `x-common` has a set of placeholder values. These values need to be replaced with the corresponding values for your setup.
   - If you intend to use a reverse proxy, you may want to modify the ports in the `panel` section to avoid conflicts with your reverse proxy.
      - These ports are in the format `host-port:container-port`. You should only change the host port. Do not change the container port.
   - Copy the following environment variables from your Pterodactyl `.env` to your `docker-compose.yml`:

      ```
      APP_KEY
      APP_URL
      DB_CONNECTION
      DB_HOST
      DB_PORT
      DB_DATABASE
      DB_USERNAME
      DB_PASSWORD
      HASHIDS_SALT
      HASHIDS_LENGTH (if it's not 8)
      ```

      The following are only applicable if email is set up:

      ```
      MAIL_MAILER
      MAIL_HOST
      MAIL_PORT
      MAIL_USERNAME
      MAIL_PASSWORD
      MAIL_ENCRYPTION
      MAIL_FROM_ADDRESS
      MAIL_FROM_NAME
      APP_SERVICE_AUTHOR
      MAIL_DRIVER
      ```
   
   ```bash
   wget https://raw.githubusercontent.com/pyrohost/pyrodactyl/main/docker-compose.example.yml -O docker-compose.yml
   ```

3. Set the `LE_EMAIL` variable to a registered Let's Encrypt email address.

<Callout type="warn">
   If your database is running on the same server as your panel, it has to listen on `172.17.0.1`!
</Callout>

5. Start the panel.
   ```bash
   docker compose up -d
   ```